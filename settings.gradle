pluginManagement {
    repositories {
        gradlePluginPortal() {
            content {
                excludeGroupByRegex 'com\\.brightspot($|\\..+)'
                excludeGroupByRegex 'com\\.psddev($|\\..+)'
            }
        }
        maven {
            url 'https://artifactory.psdops.com/public'
        }
    }
}

plugins {
    id "com.gradle.enterprise" version "3.1.1"
    id 'com.brightspot.gradle' version '1.0.0-rc16'
}

rootProject.name = 'brightspot-training'

brightspot {
    projectGroup = 'com.brightspot-training'

    versions {
        brightspot = '4.7.7'
        brightspotGo = '1.5.1'
        sharedTests = '0.6.1'
        componentLib = '4.5.17'
        java = 11
    }

    dependencySubstitutions = [
        'javax.inject:javax.inject': 'org.glassfish.hk2.external:javax.inject:_'
    ]
}

include(':core')
include(':web')
include(':frontend')
include(':bundle-default')

project(':core').projectDir = file('core')
project(':web').projectDir = file('web')
project(':frontend').projectDir = file('frontend')
project(':bundle-default').projectDir = file('frontend/bundles/bundle-default')

gradleEnterprise {
    buildScan {
        termsOfServiceUrl = "https://gradle.com/terms-of-service"
        termsOfServiceAgree = "yes"
    }
}
